{% load staticfiles %}

{% if features.contactlist %}
<div class="table-responsive" ng-init="init()">
  <div class="alert alert-info" ng-show="selected.count > 0">
    {% verbatim %}{{selected.message()}}{% endverbatim %}
  </div>
  <div class="btn-toolbar" role="toolbar">
    <div class="btn-group btn-group-sm" role="group">
      {% if edit %}<button type="button" class="btn btn-primary btn-flat" ng-click="add()">New Contact</button>{% endif %}
      <button type="button" class="btn btn-primary btn-flat" ng-click="removeItems()" ng-show="selected.count > 0">Delete</button>
    </div>
  </div>

  <table class="table table-striped table-hover table-condensed">
    <thead>
      <tr class="well well-sm">
        <th>
          <input type="checkbox" ng-model="selected.all" ng-click="selectAll($event)" />
        </th>
        <th></th>
        <th>No</th>
        <th>Full name</th>
        <th>PIC</th>
        <th>Race</th>
        <th>Position</th>
        <th>Office Phone No</th>
        <th>Fax No</th>
        <th>Mobile Phone No</th>
        <th>Email</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="o in list">
        <td>
          <input type="checkbox" ng-model="o.selected" ng-click="selectRow($event, o)" />
        </td>
        <td>
          {% if edit %}
          <a href ng-click="editcontact(o)"><i class="glyphicon glyphicon-edit"></i></a>
          {% endif %}
        </td>
        <td>{% verbatim %}{{$index + 1}}{% endverbatim %}</td>
        <td>{% verbatim %}{{o.sname}}{% endverbatim %}</td>
        <td>{% verbatim %}{{o.ipersonincharge}}{% endverbatim %}</td>
        <td>{% verbatim %}{{o.srace}}{% endverbatim %}</td>
        <td>{% verbatim %}{{o.sposition}}{% endverbatim %}</td>
        <td>{% verbatim %}{{o.sphone}}{% endverbatim %}</td>
        <td>{% verbatim %}{{o.sfax}}{% endverbatim %}</td>
        <td>{% verbatim %}{{o.smobile}}{% endverbatim %}</td>
        <td>{% verbatim %}{{o.semail}}{% endverbatim %}</td>
      </tr>
    </tbody>
  </table>
</div>
{% endif %}
<script src="{% static 'app/js/contactlist/controller.js' %}"></script>
